{"body": "<div class=\"section\" id=\"social-media-logins\">\n<h1>Social Media Logins<a class=\"headerlink\" href=\"#social-media-logins\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<p>NoDonuts allows users to either create a NoDonuts-only account or to log in\nusing social media. Currently the project supports the following log-ins:</p>\n<ul class=\"simple\">\n<li>Facebook</li>\n<li>Google OpenId</li>\n<li>Twitter</li>\n<li>Yahoo OpenId</li>\n</ul>\n<p>This section explains how to configure each of the four types of social media\nlog-ins.</p>\n<div class=\"section\" id=\"configuring-a-dev-environment-for-social-auth\">\n<h2>Configuring A Dev Environment For Social Auth<a class=\"headerlink\" href=\"#configuring-a-dev-environment-for-social-auth\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Facebook and Twitter both require that you configure the urls that are allowed\nto log in from your app. If you are on a development environment and do not\nhave an externally-facing server available, you can still configure social\nmedia to work with your local environment.</p>\n<p>In order to do this, you need to edit your <tt class=\"docutils literal\"><span class=\"pre\">/etc/hosts</span></tt> file (or\n<tt class=\"docutils literal\"><span class=\"pre\">%windir%\\system32\\drivers\\etc\\hosts</span></tt> if on Windows) to have a fake domain\nname point to localhost:</p>\n<img alt=\"/static/img/docs/etc_hosts.png\" src=\"/static/img/docs/etc_hosts.png\" />\n<p>In this case, we&#8217;re using <tt class=\"docutils literal\"><span class=\"pre\">local.mydonuts.net</span></tt>. You should then be able to\nvisit your locally-running instance using\n<a class=\"reference external\" href=\"http://local.mynodonuts.net:8000\">http://local.mynodonuts.net:8000</a>.</p>\n<img alt=\"/static/img/docs/faked_url.png\" src=\"/static/img/docs/faked_url.png\" />\n<p>Be sure to remember the fake url that you configured and use it in future steps\nwhere a url is required. When you try to log in using Facebook or Twitter, they\nwill treat the faked url the same way they would a normal external url.</p>\n<div class=\"admonition note\">\n<p class=\"first admonition-title\">Note</p>\n<p class=\"last\">If the port that you are using is anything other than <tt class=\"docutils literal\"><span class=\"pre\">80</span></tt> (the example\nabove uses <tt class=\"docutils literal\"><span class=\"pre\">:8000</span></tt>, the default port for <tt class=\"docutils literal\"><span class=\"pre\">runserver</span></tt>), you must include\nthis port in your url configuration on Facebook and Twitter, or you may\nreceive a 401 error.</p>\n</div>\n</div>\n<div class=\"section\" id=\"google-and-yahoo\">\n<h2>Google and Yahoo<a class=\"headerlink\" href=\"#google-and-yahoo\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Google and Yahoo work with an out-of-the box installation of NoDonuts and do\nnot require any further configuration.</p>\n</div>\n<div class=\"section\" id=\"facebook\">\n<h2>Facebook<a class=\"headerlink\" href=\"#facebook\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>By default, Facebook is disabled and will not show up as an option for users\ntrying to log in. In order to use Facebook for authentication, you need to\nobtain an authorization key and secret using a developer account.</p>\n<div class=\"admonition note\">\n<p class=\"first admonition-title\">Note</p>\n<p class=\"last\">Developer accounts on Facebook require a user account that has a confirmed\nunique mobile telephone number. You cannot confirm a Facebook account using\na land line, a VOIP account, or a mobile phone that is associated with\nanother user.</p>\n</div>\n<div class=\"section\" id=\"getting-a-developer-account\">\n<h3>Getting a Developer Account<a class=\"headerlink\" href=\"#getting-a-developer-account\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>To create a developer account, go to the <a class=\"reference external\" href=\"http://developers.facebook.com/setup/\">Facebook App creation page</a>. Click\n&#8216;Register Now&#8217; and if  you haven&#8217;t confirmed your phone it will ask you to do\nso at this time.</p>\n</div>\n<div class=\"section\" id=\"creating-a-new-facebook-app\">\n<h3>Creating a New Facebook App<a class=\"headerlink\" href=\"#creating-a-new-facebook-app\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>From the <a class=\"reference external\" href=\"http://developers.facebook.com/setup/\">Facebook App creation page</a>, click the &#8216;Create New App&#8217; button.  You\nshould see a form that looks something like this:</p>\n<img alt=\"/static/img/docs/facebook_create_app.png\" src=\"/static/img/docs/facebook_create_app.png\" />\n<p>Fill out the form using your own values and click &#8216;Create App&#8217;.</p>\n<p>At the top of your Dashboard page you should see the name and icon for your\napp, along with two fields, <tt class=\"docutils literal\"><span class=\"pre\">App</span> <span class=\"pre\">ID</span></tt> and <tt class=\"docutils literal\"><span class=\"pre\">App</span> <span class=\"pre\">Secret</span></tt>.</p>\n<img alt=\"/static/img/docs/facebook_dashboard.png\" src=\"/static/img/docs/facebook_dashboard.png\" />\n<p>Copy those two values into your <tt class=\"docutils literal\"><span class=\"pre\">srv_settings.py</span></tt> file:</p>\n<div class=\"highlight-python\"><div class=\"highlight\"><pre><span class=\"n\">SOCIAL_AUTH_FACEBOOK_KEY</span> <span class=\"o\">=</span> <span class=\"s\">&#39;...your App ID...&#39;</span>\n<span class=\"n\">SOCIAL_AUTH_FACEBOOK_SECRET</span> <span class=\"o\">=</span> <span class=\"s\">&#39;...your App Secret..&#39;</span>\n</pre></div>\n</div>\n<p>Go to the &#8216;Settings&#8217; panel and edit the &#8216;Basics&#8217; tab.  Enter your email address\nin the <tt class=\"docutils literal\"><span class=\"pre\">Contact</span> <span class=\"pre\">Email</span></tt> field (this is required to be able to use Facebook to\nlog in). Click &#8216;Add Platform&#8217;, choose &#8216;Website&#8217;, and configure the url where\nyour NoDonuts app will be hosted (use the faked url from above if you&#8217;re in a\nlocal dev environment).  Don&#8217;t forget to save.</p>\n<img alt=\"/static/img/docs/facebook_basic_settings.png\" src=\"/static/img/docs/facebook_basic_settings.png\" />\n<p>Go to the &#8216;Advanced&#8217; tab and look for the &#8216;Security&#8217; section. Make sure\n&#8216;Client OAuth Login&#8217; is set to &#8216;Yes&#8217; and add the url of your server (or the\nfaked url) to the &#8216;Valid OAuth redirect URIs&#8217; field. Save your settings.</p>\n<img alt=\"/static/img/docs/facebook_advanced_settings.png\" src=\"/static/img/docs/facebook_advanced_settings.png\" />\n<p>Finally, go to the &#8216;Status &amp; Review&#8217; tab and make your app public:</p>\n<img alt=\"/static/img/docs/facebook_make_public.png\" src=\"/static/img/docs/facebook_make_public.png\" />\n<p>Verify that you are able to log in from your NoDonuts app. You should also go\nback and fill in the privacy policy and terms of service urls on the &#8216;App\nDetails&#8217; page as per the Facebook developer terms, but you do not need this in\norder to run the app in development.</p>\n</div>\n</div>\n<div class=\"section\" id=\"twitter\">\n<h2>Twitter<a class=\"headerlink\" href=\"#twitter\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>By default, Twitter login is desabled and will not show up as an option for\nusers trying to log in. In order to use Twitter to login from NoDonuts, you\nmust have a Twitter account with a verified email address.</p>\n<p>Visit the <a class=\"reference external\" href=\"https://apps.twitter.com/app/new\">Twitter app creation page</a> and\nfill out the details for your app.</p>\n<img alt=\"/static/img/docs/twitter_create_app.png\" src=\"/static/img/docs/twitter_create_app.png\" />\n<p>Make sure that you enter a &#8216;Callback URL&#8217; (this would be your fake url if doing\ndevelopment), even though the field is optional. It&#8217;s required for\nauthentication.</p>\n<div class=\"admonition note\">\n<p class=\"first admonition-title\">Note</p>\n<p class=\"last\">Please read the developer agreement for Twitter carefully. It has several\nmandates related to your privacy policy and your terms of service that you\nmust comply with. You should update the privacy and terms statements to\nfit their minimum requirements.</p>\n</div>\n<p>Once you create your app, go to the &#8216;Settings&#8217; tab and check &#8216;Allow this\napplication to be used to sign in with Twitter&#8217; and save your settings.</p>\n<img alt=\"/static/img/docs/twitter_settings.png\" src=\"/static/img/docs/twitter_settings.png\" />\n<div class=\"admonition note\">\n<p class=\"first admonition-title\">Note</p>\n<p class=\"last\">The settings form doesn&#8217;t always save your changes right away (or sometimes\nundoes changes). Before you leave the page, make sure that the checkmark is\nchecked after you hit save and the Callback URL is still filled in. Refresh\nthe page a few times to make sure the changes have actually taken effect.</p>\n</div>\n<p>Go to the &#8216;API Keys&#8217; tab and look for &#8216;API key&#8217; and &#8216;API secret&#8217; at the top of\nthe page. Update your <tt class=\"docutils literal\"><span class=\"pre\">srv_settings.py</span></tt> file as follows:</p>\n<div class=\"highlight-python\"><div class=\"highlight\"><pre><span class=\"n\">SOCIAL_AUTH_TWITTER_KEY</span> <span class=\"o\">=</span> <span class=\"s\">&#39;...your API key...&#39;</span>\n<span class=\"n\">SOCIAL_AUTH_TWITTER_SECRET</span> <span class=\"o\">=</span> <span class=\"s\">&#39;...your API secret...&#39;</span>\n</pre></div>\n</div>\n<p>Test that you are able to log using Twitter in from your NoDonuts instance.</p>\n<div class=\"admonition note\">\n<p class=\"first admonition-title\">Note</p>\n<p>You may receive 401 errors if the clock is set incorrectly on your server\nor local machine. Make sure your clock is correct, and consider\nsynchronizing it with an external NTP server.</p>\n<p class=\"last\">If your clock is correct and you&#8217;re still receiving 401 errors, verify that\nyou included the port number in your URL configuration (if you&#8217;re running\non a non-standard port like <tt class=\"docutils literal\"><span class=\"pre\">8000</span></tt>) and that you included the &#8216;s&#8217; in\n&#8216;https&#8217; if you&#8217;re using SSL.</p>\n</div>\n</div>\n</div>\n", "display_toc": true, "title": "Social Media Logins", "sourcename": "developer_guide/config/social_media.txt", "customsidebar": null, "current_page_name": "developer_guide/config/social_media", "next": {"link": "../../recipe_search/", "title": "Searching Recipes"}, "rellinks": [["genindex", "General Index", "I", "index"], ["developer_guide/recipe_search", "Searching Recipes", "N", "next"], ["index", "NoDonuts: Let&#8217;s get the junk food out of our campaigns!", "P", "previous"]], "meta": {}, "parents": [], "sidebars": null, "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Social Media Logins</a><ul>\n<li><a class=\"reference internal\" href=\"#configuring-a-dev-environment-for-social-auth\">Configuring A Dev Environment For Social Auth</a></li>\n<li><a class=\"reference internal\" href=\"#google-and-yahoo\">Google and Yahoo</a></li>\n<li><a class=\"reference internal\" href=\"#facebook\">Facebook</a><ul>\n<li><a class=\"reference internal\" href=\"#getting-a-developer-account\">Getting a Developer Account</a></li>\n<li><a class=\"reference internal\" href=\"#creating-a-new-facebook-app\">Creating a New Facebook App</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#twitter\">Twitter</a></li>\n</ul>\n</li>\n</ul>\n", "prev": {"link": "../../../", "title": "NoDonuts: Let&#8217;s get the junk food out of our campaigns!"}, "metatags": ""}